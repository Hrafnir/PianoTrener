<!-- Version: #24 -->
<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piano L√¶rer - Pro</title>
    <!-- VexFlow bibliotek (Stabil versjon 3.0.9) -->
    <script src="https://unpkg.com/vexflow@3.0.9/releases/vexflow-min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="app-container">
        <header>
            <h1>Piano L√¶rer üéπ</h1>
            <p>Spill, komponer og l√¶r rytme!</p>
        </header>

        <section id="controls">
            <!-- Mikrofon Kontroll -->
            <div class="control-group">
                <h3>Fri Modus / Mikrofon</h3>
                <button id="btn-start-mic">Start Mikrofon</button>
                <div id="status-display">Status: Klar...</div>
                <div id="note-display">Note: --</div>
            </div>

            <hr class="divider">

            <!-- Musikk Kontroller (Ny) -->
            <div class="control-group">
                <h3>Musikkinnstillinger</h3>
                <div class="settings-row">
                    <div class="setting-item">
                        <label>Tempo (BPM):</label>
                        <input type="number" id="bpm-input" value="100" min="40" max="240">
                    </div>
                    <div class="setting-item">
                        <label>Taktart:</label>
                        <select id="time-sig-input">
                            <option value="4/4" selected>4/4</option>
                            <option value="3/4">3/4</option>
                            <option value="2/4">2/4</option>
                            <option value="6/8">6/8</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Metronom:</label>
                        <button id="btn-toggle-metronome" class="toggle-btn">Av</button>
                    </div>
                </div>
            </div>

            <!-- Tonelengde Kontroll -->
            <div class="control-group">
                <h3>Noteverdi & Pause (Tastatur: 1, 2, 4, 8, P)</h3>
                <div id="duration-controls">
                    <div class="duration-btn" data-dur="w" id="dur-1">1 Hel</div>
                    <div class="duration-btn" data-dur="h" id="dur-2">2 Halv</div>
                    <div class="duration-btn active" data-dur="q" id="dur-4">4 Fjerd.</div>
                    <div class="duration-btn" data-dur="8" id="dur-8">8 √Öttedel</div>
                    <div class="duration-btn" data-dur="16" id="dur-9">16-del</div>
                    <!-- Pauseknapp -->
                    <div class="duration-btn rest-btn" id="btn-add-rest">‚è∏ Pause (P)</div>
                </div>
            </div>

            <hr class="divider">

            <!-- Handlinger -->
            <div class="control-group">
                <div id="main-controls" class="button-row">
                    <button id="btn-record">‚è∫ Start Opptak</button>
                    <button id="btn-play-seq" disabled>‚ñ∂Ô∏è Spill Av</button>
                    <button id="btn-challenge" disabled>üéì √òvelse</button>
                    <button id="btn-clear-sheet" style="background-color: #6c757d;">üóëÔ∏è Nytt Ark</button>
                    <button id="btn-download" style="background-color: #009688;">üíæ Lagre</button>
                </div>

                <!-- √òvingsmodus knapper -->
                <div id="game-controls" class="button-row" style="display: none;">
                    <button id="btn-restart-game" style="background-color: #ff9800;">üîÑ Start P√• Nytt</button>
                    <button id="btn-stop-game" style="background-color: #f44336;">‚ùå Avslutt √òving</button>
                </div>
                
                <div id="learning-status">Status: Ventet p√• opptak...</div>
            </div>
        </section>

        <!-- Ekte Noteark -->
        <section id="sheet-container">
            <h3>Noteark (Juster st√∏rrelsen i hj√∏rnet):</h3>
            <div id="sheet-music-scroll">
                <div id="vexflow-wrapper"></div>
            </div>
        </section>

        <section id="piano-container">
            <div class="piano" id="piano">
                <!-- Tangenter -->
            </div>
        </section>

        <section id="logging-area">
            <h3>Logg:</h3>
            <div id="app-log"></div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
<!-- Version: #24 -->
