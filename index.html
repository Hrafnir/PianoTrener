<!-- Version: #21 -->
<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piano L√¶rer for Barn</title>
    <!-- VexFlow bibliotek (Stabil versjon 3.0.9) -->
    <script src="https://unpkg.com/vexflow@3.0.9/releases/vexflow-min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="app-container">
        <header>
            <h1>Piano L√¶rer üéπ</h1>
            <p>Spill, l√¶r, og se ekte noter!</p>
        </header>

        <section id="controls">
            <!-- Mikrofon Kontroll -->
            <div class="control-group">
                <h3>Fri Modus / Mikrofon</h3>
                <button id="btn-start-mic">Start Mikrofon / Lyd</button>
                <div id="status-display">Status: Klar...</div>
                <div id="note-display">Note: --</div>
            </div>

            <hr class="divider">

            <!-- Tonelengde Kontroll (NY) -->
            <div class="control-group">
                <h3>Velg Tonelengde (Bruk tastatur 1, 2, 4, 8, 9)</h3>
                <div id="duration-controls">
                    <div class="duration-btn" data-dur="w" id="dur-1">1 Helnote</div>
                    <div class="duration-btn" data-dur="h" id="dur-2">2 Halvnote</div>
                    <div class="duration-btn active" data-dur="q" id="dur-4">4 Fjerdedel</div>
                    <div class="duration-btn" data-dur="8" id="dur-8">8 √Öttedel</div>
                    <div class="duration-btn" data-dur="16" id="dur-9">9 Sekstendel</div>
                </div>
            </div>

            <hr class="divider">

            <!-- L√¶ringsmodus Kontroll -->
            <div class="control-group">
                <h3>L√¶ring og √òving</h3>
                
                <!-- Hovedmeny knapper -->
                <div id="main-controls" class="button-row">
                    <button id="btn-record">‚è∫ Start Opptak</button>
                    <button id="btn-play-seq" disabled>‚ñ∂Ô∏è H√∏r Fasit</button>
                    <button id="btn-challenge" disabled>üéì Start √òvelse</button>
                    <button id="btn-clear-sheet" style="background-color: #6c757d;">üóëÔ∏è T√∏m Noter</button>
                    <!-- Ny knapp for lagring -->
                    <button id="btn-download" style="background-color: #009688;">üíæ Lagre Noteark</button>
                </div>

                <!-- √òvingsmodus knapper (Vises kun under spill) -->
                <div id="game-controls" class="button-row" style="display: none;">
                    <button id="btn-restart-game" style="background-color: #ff9800;">üîÑ Start P√• Nytt</button>
                    <button id="btn-stop-game" style="background-color: #f44336;">‚ùå Avslutt √òving</button>
                </div>
                
                <div id="learning-status">Status: Ventet p√• opptak...</div>
            </div>
        </section>

        <!-- Ekte Noteark -->
        <section id="sheet-container">
            <h3>Noteark (G-N√∏kkel):</h3>
            <div id="sheet-music-scroll">
                <!-- Her tegner VexFlow notene -->
                <div id="vexflow-wrapper"></div>
            </div>
        </section>

        <section id="piano-container">
            <div class="piano" id="piano">
                <!-- Tangentene genereres her ved oppstart -->
            </div>
        </section>

        <section id="logging-area">
            <h3>System Logg:</h3>
            <div id="app-log"></div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
<!-- Version: #21 -->
